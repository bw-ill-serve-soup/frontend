{"ast":null,"code":"import _defineProperty from \"/Users/masonkarsevar/lambda-school/lambda-week13/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/Users/masonkarsevar/lambda-school/lambda-week13/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"/Users/masonkarsevar/lambda-school/lambda-week13/frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/masonkarsevar/lambda-school/lambda-week13/frontend/src/components/DevLogin.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _templateObject() {\n  const data = _taggedTemplateLiteral([\"\\n    padding: 16px;\\n    background-color: #ffb7b7;\\n    color: red;\\n    border: solid 1px #f39595;\\n    border-radius: 4px;\\n    max-width: 700px;\\n    margin: 16px auto;\\n\"]);\n\n  _templateObject = function () {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport styled from 'styled-components';\nimport { Label } from '../styled-components/LoginStyle';\nimport { Form } from '../styled-components/LoginStyle';\nimport { Button } from '../styled-components/LoginStyle';\nimport { Input } from '../styled-components/LoginStyle';\nexport const ErrorParagraph = styled.p(_templateObject());\n\nfunction DevLogin(props) {\n  const _useState = useState({\n    username: '',\n    password: ''\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        credentials = _useState2[0],\n        setCredentials = _useState2[1];\n\n  const _useState3 = useState(''),\n        _useState4 = _slicedToArray(_useState3, 2),\n        errorMessage = _useState4[0],\n        setErrorMessage = _useState4[1];\n\n  const login = e => {\n    e.preventDefault();\n    axios.post('https://soupkitchen-buildweek.herokuapp.com/api/login', credentials).then(res => {\n      console.log(res);\n      localStorage.setItem('token', res.data.token);\n      setErrorMessage('');\n      props.history.push('/add_item');\n    }).catch(err => {\n      console.log(typeof err.message);\n      setErrorMessage(err.message);\n    });\n  };\n\n  const handleChange = e => {\n    // console.log(credentials) \n    console.log(credentials);\n    setCredentials(_objectSpread({}, credentials, {\n      [e.target.name]: e.target.value\n    }));\n  };\n\n  return React.createElement(\"div\", {\n    className: \"login-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"header-image\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: './ISS_login_image_grey.png',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  })), React.createElement(Form, {\n    onSubmit: login,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(Label, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, \"Username\"), React.createElement(Input, {\n    type: \"text\",\n    name: \"username\",\n    value: credentials.username,\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }), React.createElement(Label, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, \"Password\"), React.createElement(Input, {\n    type: \"password\",\n    name: \"password\",\n    value: credentials.password,\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }), React.createElement(Button, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, \"Submit!\")), errorMessage && React.createElement(ErrorParagraph, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, errorMessage));\n}\n\nexport default DevLogin;","map":{"version":3,"sources":["/Users/masonkarsevar/lambda-school/lambda-week13/frontend/src/components/DevLogin.js"],"names":["React","useState","axios","styled","Label","Form","Button","Input","ErrorParagraph","p","DevLogin","props","username","password","credentials","setCredentials","errorMessage","setErrorMessage","login","e","preventDefault","post","then","res","console","log","localStorage","setItem","data","token","history","push","catch","err","message","handleChange","target","name","value"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\nimport axios from 'axios';\nimport styled from 'styled-components'\nimport {Label} from '../styled-components/LoginStyle'\nimport {Form} from '../styled-components/LoginStyle'\nimport {Button} from '../styled-components/LoginStyle'\nimport {Input} from '../styled-components/LoginStyle'\n\nexport const ErrorParagraph = styled.p`\n    padding: 16px;\n    background-color: #ffb7b7;\n    color: red;\n    border: solid 1px #f39595;\n    border-radius: 4px;\n    max-width: 700px;\n    margin: 16px auto;\n`;\n\n\n\nfunction DevLogin(props) {\n    const [credentials, setCredentials] = useState({username: '', password: ''})\n    const [errorMessage, setErrorMessage] = useState('');\n\n    const login = e => {\n        e.preventDefault();\n        axios\n            .post('https://soupkitchen-buildweek.herokuapp.com/api/login', credentials)\n            .then(res => {\n                console.log(res)\n                localStorage.setItem('token', res.data.token)\n                setErrorMessage('')\n                props.history.push('/add_item')\n            })\n            .catch(err => {\n                console.log(typeof err.message)\n                setErrorMessage(err.message)\n            })\n    }\n\n    const handleChange = e => {\n        // console.log(credentials) \n        console.log(credentials) \n        setCredentials({...credentials, [e.target.name]: e.target.value})\n    }\n\n    return (\n        <div className='login-container'>\n            <div className='header-image'>\n                <img src={'./ISS_login_image_grey.png'} />\n            </div>\n            <Form onSubmit={login}>\n            <Label>Username</Label>\n                <Input\n                    type='text'\n                    name='username'\n                    value={credentials.username}\n                    onChange={handleChange}\n                />\n                <Label>Password</Label>\n                <Input \n                    type='password'\n                    name='password'\n                    value={credentials.password}\n                    onChange={handleChange}\n                />\n                <Button>Submit!</Button>\n            </Form>\n            {errorMessage && <ErrorParagraph>\n                                    {errorMessage}\n                            </ErrorParagraph>}\n        </div>\n    )\n}\n\nexport default DevLogin;"]},"metadata":{},"sourceType":"module"}
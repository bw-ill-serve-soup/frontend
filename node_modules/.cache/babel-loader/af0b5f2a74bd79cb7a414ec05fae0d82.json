{"ast":null,"code":"import _slicedToArray from \"/Users/masonkarsevar/lambda-school/lambda-week13/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/masonkarsevar/lambda-school/lambda-week13/frontend/src/App.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport NavBar from './components/NavBar/NavBar.js';\nimport DevLogin from './components/DevLogin';\nimport DevSignup from './components/DevSignup'; // import InventoryList from './components/InventoryList';\n\nimport './App.css';\nimport { axiosWithAuth } from './Auth/axiosWithAuth.js';\nimport AddItemForm from './components/AddItemForm/AddItemForm.js';\nimport InventoryList from './components/inventoryList';\nimport EditForm from './components/AddItemForm/EditForm';\nimport Login from './components/Login';\n\nfunction App() {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        inventoryArray = _useState2[0],\n        setInventoryArray = _useState2[1];\n\n  useEffect(() => {\n    axiosWithAuth().get('https://soupkitchen-buildweek.herokuapp.com/kitchen/inventory').then(res => {\n      console.log(res);\n      setInventoryArray(res.data);\n    }).catch(err => console.log(err));\n  }, []); // State to display 'Success Message' on the AddItem form when post request is successful\n\n  const _useState3 = useState('message-hide'),\n        _useState4 = _slicedToArray(_useState3, 2),\n        addMessage = _useState4[0],\n        setAddMessage = _useState4[1]; // Function to use in successful post request to hide 'Success' message after 3 seconds\n\n\n  const messageReset = () => {\n    setAddMessage('message-hide');\n  };\n\n  const addItem = item => {\n    console.log('you have added an inventory item', item);\n    axiosWithAuth().post('https://soupkitchen-buildweek.herokuapp.com/kitchen/inventory', item).then(res => {\n      console.log(res.data.userInventory);\n      setInventoryArray([...res.data.userInventory]);\n      console.log(res); // need to update state\n\n      setAddMessage('message-display');\n      setTimeout(messageReset, 3000);\n    }).catch(error => {\n      console.log('There was an error', error);\n    });\n  };\n\n  const editItem = item => {\n    console.log('item that is being edited', item);\n    axiosWithAuth().put(\"https://soupkitchen-buildweek.herokuapp.com/kitchen/inventory\", item).then(res => {\n      console.log(res);\n      const mutateArray = [...inventoryArray];\n\n      for (let i = 0; i < inventoryArray.length; i++) {\n        if (item.id === mutateArray[i].id) {\n          mutateArray[i].quantity = item.quantity;\n          mutateArray[i].weightUnit = item.weightUnit;\n          mutateArray[i].inventoryItem = item.inventoryItem;\n        }\n      }\n\n      setInventoryArray(mutateArray); // messageReset()\n\n      setAddMessage('message-display');\n      setTimeout(messageReset, 3000);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  const deleteItem = item => {\n    console.log('item that is being deleted', item);\n    const object = {\n      id: item.id\n    };\n    axiosWithAuth().delete(\"https://soupkitchen-buildweek.herokuapp.com/kitchen/inventory/\".concat(item.id)).then(res => {\n      console.log(res);\n      setInventoryArray([...inventoryArray.filter(inventory => inventory.id !== item.id)]);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  return (// <Route>\n    React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(NavBar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/add_item\",\n      render: props => {\n        return localStorage.getItem('token') ? React.createElement(AddItemForm, Object.assign({}, props, {\n          addItem: addItem,\n          messageStatus: addMessage,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113\n          },\n          __self: this\n        })) : React.createElement(Redirect, {\n          to: \"/login\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 115\n          },\n          __self: this\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      render: props => {\n        return localStorage.getItem('token') ? React.createElement(InventoryList, Object.assign({}, props, {\n          inventoryArray: inventoryArray,\n          deleteItem: deleteItem,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123\n          },\n          __self: this\n        })) : React.createElement(Redirect, {\n          to: \"/login\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125\n          },\n          __self: this\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/login\",\n      component: DevLogin,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/signup\",\n      component: DevSignup,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/edit-item/:id\",\n      render: props => {\n        const targetInventory = inventoryArray.find(inventory => inventory.id.toString() === props.match.params.id);\n        return React.createElement(EditForm, Object.assign({}, props, {\n          editItem: editItem,\n          initialCard: targetInventory,\n          messageStatus: addMessage,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 132\n          },\n          __self: this\n        }));\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }))\n  );\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/masonkarsevar/lambda-school/lambda-week13/frontend/src/App.js"],"names":["React","useState","useEffect","Route","Redirect","NavBar","DevLogin","DevSignup","axiosWithAuth","AddItemForm","InventoryList","EditForm","Login","App","inventoryArray","setInventoryArray","get","then","res","console","log","data","catch","err","addMessage","setAddMessage","messageReset","addItem","item","post","userInventory","setTimeout","error","editItem","put","mutateArray","i","length","id","quantity","weightUnit","inventoryItem","deleteItem","object","delete","filter","inventory","props","localStorage","getItem","targetInventory","find","toString","match","params"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {Route, Redirect} from 'react-router-dom';\n\nimport NavBar from './components/NavBar/NavBar.js';\nimport DevLogin from './components/DevLogin';\nimport DevSignup from './components/DevSignup';\n// import InventoryList from './components/InventoryList';\n\nimport './App.css';\nimport { axiosWithAuth } from './Auth/axiosWithAuth.js';\nimport AddItemForm from './components/AddItemForm/AddItemForm.js';\nimport InventoryList from './components/inventoryList';\nimport EditForm from './components/AddItemForm/EditForm';\n\nimport Login from './components/Login';\n\nfunction App() {\n\n  const [inventoryArray, setInventoryArray] = useState([]);\n\n  useEffect(() => {\n    axiosWithAuth()\n      .get('https://soupkitchen-buildweek.herokuapp.com/kitchen/inventory')\n      .then(res => {\n        console.log(res)\n        setInventoryArray(res.data)\n      }) \n      .catch(err => console.log(err)) \n  }, []);\n  // State to display 'Success Message' on the AddItem form when post request is successful\n\n  const [addMessage, setAddMessage] = useState('message-hide');\n\n  // Function to use in successful post request to hide 'Success' message after 3 seconds\n\n  const messageReset = () => {\n    setAddMessage('message-hide');\n  }\n\n  const addItem = (item) => {\n    console.log('you have added an inventory item', item);\n    axiosWithAuth().post('https://soupkitchen-buildweek.herokuapp.com/kitchen/inventory', item)\n      .then(res => {\n        console.log(res.data.userInventory);\n        setInventoryArray([\n          ...res.data.userInventory\n        ])\n        console.log(res);\n        // need to update state\n        \n        setAddMessage('message-display');\n        setTimeout(messageReset, 3000);\n        \n      })\n      .catch(error => {\n        console.log('There was an error', error)\n        \n        \n        \n\n      })\n  };\n  \n  const editItem = (item) => {\n    console.log('item that is being edited', item);\n    axiosWithAuth()\n      .put(`https://soupkitchen-buildweek.herokuapp.com/kitchen/inventory`, item)\n      .then(res => {\n        console.log(res)\n        const mutateArray = [...inventoryArray]\n        for (let i=0; i < inventoryArray.length; i++) {\n          if (item.id === mutateArray[i].id) {\n            mutateArray[i].quantity = item.quantity;\n            mutateArray[i].weightUnit = item.weightUnit;\n            mutateArray[i].inventoryItem = item.inventoryItem;\n          }\n        }\n        setInventoryArray(mutateArray);\n\n        // messageReset()\n        setAddMessage('message-display');\n        setTimeout(messageReset, 3000);\n      })\n      .catch(err => {\n        console.log(err)\n      })\n  }\n\n  const deleteItem = (item) => {\n    console.log('item that is being deleted', item)\n    const object = {id: item.id};\n    \n    axiosWithAuth()\n      .delete(`https://soupkitchen-buildweek.herokuapp.com/kitchen/inventory/${item.id}`)\n      .then(res => {\n        console.log(res)\n        setInventoryArray([\n          ...inventoryArray.filter(inventory => inventory.id !== item.id)\n        ])\n      })\n      .catch(err => {\n        console.log(err) \n      })\n  }\n\n        \n  return (\n    // <Route>\n    <div className=\"App\">\n      <NavBar />\n      <Route path='/add_item' render={props => {\n        return localStorage.getItem('token') ? (\n              <AddItemForm {...props} addItem={addItem} messageStatus={addMessage}/>\n          ) : (\n              <Redirect to='/login' /> \n          )\n      }} />\n      \n\n      \n      <Route exact path='/' render={props => {\n        return localStorage.getItem('token') ? (\n              <InventoryList {...props} inventoryArray={inventoryArray} deleteItem={deleteItem} />\n          ) : (\n              <Redirect to='/login' /> \n          )\n      }} />\n      <Route path='/login' component={DevLogin} />\n      <Route path='/signup' component={DevSignup} />\n      <Route path='/edit-item/:id' render={props => {\n        const targetInventory = inventoryArray.find(inventory => inventory.id.toString() === props.match.params.id)\n        return <EditForm {...props} editItem={editItem} initialCard={targetInventory} messageStatus={addMessage} />\n      }} />\n\n  \n\n\n      {/* <InventoryList /> */}\n      {/* <Login/> */}\n    </div>\n  );\n}\n\nexport default App;\n\n\n"]},"metadata":{},"sourceType":"module"}